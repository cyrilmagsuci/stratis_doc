

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Interacting with the Stratis Node &mdash; Stratis Academy  documentation</title>
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">
  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Interacting with the Cirrus Node" href="Cirrus.html" />
    <link rel="prev" title="Running the Stratis Full Node" href="Running.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Stratis Academy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Blockchain%20Overview/blockchain-overview-introduction.html">Blockchain Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Architecture%20Reference/architecture-reference-introduction.html">Architecture Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../developers-introduction.html">Developer Resources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../API%20Reference/api.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PyStratis%20Reference/pystratis.html">PyStratis Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SmartContracts/smartcontracts-introduction.html">Smart Contracts</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="StratisFullNode-Introduction.html">Stratis Full Node</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Running.html">Running the Stratis Full Node</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Interacting with the Stratis Node</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#obtaining-a-block-hash">Obtaining a Block Hash</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-wallet">Creating a Wallet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generating-addresses">Generating Addresses</a></li>
<li class="toctree-l4"><a class="reference internal" href="#start-staking">Start Staking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#listing-rpc-methods">Listing RPC Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Cirrus.html">Interacting with the Cirrus Node</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Unity3D/unity3d-intro.html">Unity3D</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Unreal%20Engine/unreal-engine-introduction.html">Unreal Engine</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Operation%20Guides/operation-guides-introduction.html">Operation Guides</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Stratis Academy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../developers-introduction.html">Developer Guides</a> &raquo;</li>
        
          <li><a href="StratisFullNode-Introduction.html">Getting Started</a> &raquo;</li>
        
      <li>Interacting with the Stratis Node</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/Developer Resources/Stratis Full Node/Interacting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="interacting-with-the-stratis-node">
<h1>Interacting with the Stratis Node<a class="headerlink" href="#interacting-with-the-stratis-node" title="Permalink to this heading">¶</a></h1>
<p>Here we will demonstrate how to interact with the node via cURL on a
Linux based Operating System. If running the Stratis Full Node on a
Windows Operating System you can utilise the Swagger Interface by
launching an internet browser and navigating to the below URL:</p>
<blockquote>
<div><p><strong>StraxTest</strong></p>
<p><a class="reference external" href="http://localhost:27103/Swagger">http://localhost:27103/Swagger</a></p>
<p><strong>StraxMain</strong></p>
<p><a class="reference external" href="http://localhost:17103/Swagger">http://localhost:17103/Swagger</a></p>
</div></blockquote>
<section id="obtaining-a-block-hash">
<h2>Obtaining a Block Hash<a class="headerlink" href="#obtaining-a-block-hash" title="Permalink to this heading">¶</a></h2>
<p>The first thing we can do is return the hash of a given block number.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> <span class="s2">&quot;http://localhost:27103/api/Consensus/getblockhash?height=100&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;accept: application/json&quot;</span>
</pre></div>
</div>
<p>The above graphic shows the response from querying the hash of block
number 100, if you also executed the command, you should see the below
result.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="n">d5bd3e7b2d940ff0152f004c6b25f87fdc8282fe41a963159bdd83fd13403d5</span>
</pre></div>
</div>
</section>
<section id="creating-a-wallet">
<h2>Creating a Wallet<a class="headerlink" href="#creating-a-wallet" title="Permalink to this heading">¶</a></h2>
<p>The next task we will perform is the creation of a hierarchical
deterministic wallet. To do this, we call the wallet/create endpoint by
executing the below command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="s2">&quot;http://localhost:27103/api/Wallet/create&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;accept:application/json&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json-patch+json&quot;</span> <span class="o">-</span><span class="n">d</span> <span class="s2">&quot;{</span><span class="se">\\</span><span class="s2">&quot;</span><span class="n">password</span>\<span class="s2">&quot;: </span><span class="se">\\</span><span class="s2">&quot;</span><span class="o">**</span><span class="n">GettingStarted</span><span class="o">**</span>\\<span class="s2">&quot;, </span><span class="se">\\</span><span class="s2">&quot;</span><span class="n">passphrase</span>\<span class="s2">&quot;:</span><span class="se">\\</span><span class="s2">&quot;</span><span class="o">**</span><span class="n">GettingStarted</span><span class="o">**</span>\\<span class="s2">&quot;, </span><span class="se">\\</span><span class="s2">&quot;</span><span class="n">name</span>\<span class="s2">&quot;: </span><span class="se">\\</span><span class="s2">&quot;</span><span class="o">**</span><span class="n">stratis</span><span class="o">**</span>\\<span class="s2">&quot;}&quot;</span>
</pre></div>
</div>
<p>The above command will return you with a list of words, as seen in the
below graphic.</p>
<a class="reference internal image-reference" href="../../_images/image4.png"><img alt="../../_images/image4.png" src="../../_images/image4.png" style="width: 6.26806in; height: 3.27778in;" /></a>
<p>These twelve words and your defined passphrase will be the seed for the
wallet you have just created. More information regarding the
hierarchical deterministic standard and mnemonic words please review the
below.</p>
<p><a class="reference external" href="https://en.bitcoin.it/wiki/BIP_0032">https://en.bitcoin.it/wiki/BIP_0032</a></p>
<p><a class="reference external" href="https://en.bitcoin.it/wiki/BIP_0039">https://en.bitcoin.it/wiki/BIP_0039</a></p>
<p><a class="reference external" href="https://en.bitcoin.it/wiki/BIP_0044">https://en.bitcoin.it/wiki/BIP_0044</a></p>
</section>
<section id="generating-addresses">
<h2>Generating Addresses<a class="headerlink" href="#generating-addresses" title="Permalink to this heading">¶</a></h2>
<p>As we are utilising hierarchical deterministic wallets, we can create a
large number of addresses to be utilised and/or assigned to specific
users’ dependent upon the use-case.</p>
<p>Large numbers of addresses can be created by utilising the
wallet/unusedaddresses endpoint.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>curl -X GET http://localhost:27103/api/Wallet/unusedaddresses?WalletName=stratis&amp;Count=100000&quot; -H &quot;accept: application/json&quot;
</pre></div>
</div>
<p>The above command will generate 100,000 addresses and will monitor the
blockchain for outputs that relate to one of the generated addresses.</p>
<a class="reference internal image-reference" href="../../_images/image5.png"><img alt="../../_images/image5.png" src="../../_images/image5.png" style="width: 6.26806in; height: 3.27778in;" /></a>
<p>The addresses will be printed to the console and can be saved in JSON by
performing the below command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> <span class="s2">&quot;http://localhost:27103/api/Wallet/unusedaddresses?WalletName=stratis&amp;Count=100000&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;accept: application/json&quot;</span> <span class="o">&gt;&gt;</span> <span class="o">./</span><span class="n">addresses</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</section>
<section id="start-staking">
<h2>Start Staking<a class="headerlink" href="#start-staking" title="Permalink to this heading">¶</a></h2>
<p>As the Stratis blockchain utilises a Proof-of-Stake consensus algorithm,
blocks are produced by staking nodes on the network.</p>
<p>Staking can be activated by calling the Staking/startstaking endpoint.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="s2">&quot;http://localhost:27103/api/Staking/startstaking&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;accept: application/json&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json-patch+json&quot;</span> <span class="o">-</span><span class="n">d</span> <span class="s2">&quot;{ </span><span class="se">\\</span><span class="s2">&quot;</span><span class="n">password</span>\<span class="s2">&quot;: </span><span class="se">\\</span><span class="s2">&quot;</span><span class="o">**</span><span class="n">GettingStarted</span><span class="o">**</span>\\<span class="s2">&quot;, </span><span class="se">\\</span><span class="s2">&quot;</span><span class="n">name</span>\<span class="s2">&quot;: </span><span class="se">\\</span><span class="s2">&quot;</span><span class="o">**</span><span class="n">stratis</span><span class="o">**</span>\\<span class="s2">&quot;}&quot;</span>
</pre></div>
</div>
<p>Staking information can also be retrieved by calling the
Staking/getstakinginfo endpoint.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> <span class="s2">&quot;http://localhost:27103/api/Staking/getstakinginfo&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;accept: application/json&quot;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/image6.png"><img alt="../../_images/image6.png" src="../../_images/image6.png" style="width: 6.26806in; height: 3.27778in;" /></a>
<p>To stop Staking, simply stop the running node or call the
Staking/stopstaking endpoint.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="s2">&quot;http://localhost:27103/api/Staking/stopstaking&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;accept: application/json&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json-patch+json&quot;</span> <span class="o">-</span><span class="n">d</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</section>
<section id="listing-rpc-methods">
<h2>Listing RPC Methods<a class="headerlink" href="#listing-rpc-methods" title="Permalink to this heading">¶</a></h2>
<p>All available RPC methods can be returned from the RPC/listmethods
endpoint. However, we need to enable the RPC Server.</p>
<p>This can be done by editing the stratis.conf in the data directory or
alternatively by specifying the below parameters when starting the node.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">server</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">rpcuser</span><span class="o">=</span><span class="n">stratis</span> <span class="n">rpcpassword</span><span class="o">=</span><span class="n">stratis</span> <span class="o">-</span><span class="n">rpcallowip</span><span class="o">=</span><span class="mf">127.0.0.1</span><span class="o">/</span><span class="mi">32</span>
</pre></div>
</div>
<p>Appending this to the current start parameters will allow you to
interact with the Stratis Full Node via RPC.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">Stratis</span><span class="o">.</span><span class="n">StratisD</span> <span class="o">-</span><span class="n">testnet</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">datadir</span><span class="o">=./</span> <span class="o">-</span><span class="n">server</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">rpcuser</span><span class="o">=</span><span class="n">stratis</span> <span class="n">rpcpassword</span><span class="o">=</span><span class="n">stratis</span> <span class="o">-</span><span class="n">rpcallowip</span><span class="o">=</span><span class="mf">127.0.0.1</span><span class="o">/</span><span class="mi">32</span>
</pre></div>
</div>
<p>Once the Stratis Full Node has started, the available RPC Methods can be
returned by calling the RPC/listmethods endpoint.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> <span class="s2">&quot;http://localhost:27103/api/RPC/listmethods&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;accept: application/json&quot;</span>
</pre></div>
</div>
</section>
</section>


           </div>
           
          </div>
          
        </div>
      </div>
      <footer class="footer-container">
  <div class="footer-pagination">
    
      <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        
          <a href="Cirrus.html" class="btn btn-primary float-right" title="Interacting with the Cirrus Node" accesskey="n" rel="next">Next <span class="fa fa-arrow-right"></span></a>
        
        
          <a href="Running.html" class="btn btn-neutral" title="Running the Stratis Full Node" accesskey="p" rel="prev"><span class="fa fa-arrow-left"></span> Previous</a>
        
      </div>
    
  </div>

  <div role="contentinfo" class="footer-copyright">
    <div class="footer-logo-copyright">
      <img src="../../_static/img/footer-logo.png" alt="Stratis" class="footer-logo">
      <p>
          &copy; Copyright 2020, Stratis Group Ltd.

      </p>
    </div>

    <div class="footer-links">
      <a class="footer-social-link" href="https://twitter.com/stratisplatform" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
      <a class="footer-social-link" href="https://github.com/stratisproject" target="_blank"><i class="fa fa-github-alt" aria-hidden="true"></i></a>
      <a class="footer-social-link" href="https://discord.gg/9tDyfZs" target="_blank"><img src="../../_static/img/discord.png" alt="Discord" style="width: 26px; height: 26px;"></a>
    </div>

    <div style="clear: both;"></div>
  </div> 

</footer>


      <div style="clear: both;"></div>
    </section>
    
  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/sphinx_highlight.js"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>